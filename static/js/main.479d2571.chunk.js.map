{"version":3,"sources":["components/App/App.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/services/api.js","components/App/App.js","index.js"],"names":["module","exports","SearchBar","onSearch","className","onSubmit","e","preventDefault","target","elements","pictureName","value","toLowerCase","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","onClick","webformatURL","tags","src","alt","ImageGallery","pictures","onSelect","map","picture","id","App","color","height","width","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackDrop","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Component","axios","defaults","baseURL","fetchPics","page","a","get","data","hits","useState","setPictureName","setPictures","selectedImg","setSelectedImg","reqStatus","setReqStatus","setPage","showModal","setShowModal","setAlt","useEffect","trim","length","toast","error","prevPictures","scrollTo","top","documentElement","scrollHeight","behavior","getFetchImg","resetSearch","showButton","largeImageUrl","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.479d2571.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3jd0v\",\"App-logo\":\"App_App-logo__3WZ7h\",\"App-logo-spin\":\"App_App-logo-spin__1oKYw\",\"App-header\":\"App_App-header__MA0MG\",\"App-link\":\"App_App-link__3TjMu\"};","import PropTypes from 'prop-types';\nconst SearchBar = ({ onSearch}) => {\n  const handleSearch = e => {\n    e.preventDefault();\n    onSearch(e.target.elements.pictureName.value.toLowerCase());\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSearch} >\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          name=\"pictureName\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        \n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n\nSearchBar.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({ image, onClick }) {\n  const { webformatURL, tags } = image;\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        onClick={onClick}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ pictures, onSelect }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {pictures.map((picture, id) => (\n        <ImageGalleryItem\n          key={id}\n          image={picture}\n          onClick={() => onSelect(picture)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      pictures: PropTypes.object,\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onSelect: PropTypes.func.isRequired,\n};\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function App()  {\n\n  return(\n  <div className=\"loaderContainer\">\n  <Loader type=\"Puff\" color=\"#00BFFF\" height={80} width={80} />\n  </div>)\n  }\n","import PropTypes from 'prop-types';\nfunction Button({ onClick }) {\n  return (\n    <div className=\"btnContainer\">\n    <button type=\"button\" onClick={onClick} className=\"Button\">\n      Load more\n      </button>\n      </div>\n  );\n}\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { createPortal } from 'react-dom';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackDrop = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackDrop}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n};\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com';\nconst keyApi = '22597300-51a9bfff07e627635843c3062';\n\nexport const fetchPics = async (pictureName, page) => {\n  const {data} = await axios.get(\n    `/api/?q=${pictureName}&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return data.hits;\n};\n","import { useEffect, useState } from 'react';\n\nimport toast, { Toaster } from 'react-hot-toast';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport { fetchPics } from '../services/api';\nimport '../image-finder/styles.css';\nimport './App.module.css';\n\nexport default function App() {\n  const [pictureName, setPictureName] = useState('');\n  const [pictures, setPictures] = useState([]);\n  const [selectedImg, setSelectedImg] = useState(null);\n  const [reqStatus, setReqStatus] = useState('idle');\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [alt, setAlt] = useState(null);\n\n  useEffect(() => {\n    if (!pictureName) return;\n\n    setReqStatus('pending');\n    async function getFetchImg() {\n      try {\n        const pictures = await fetchPics(pictureName, page);\n        if (pictureName.trim() === '' || pictures.length === 0) {\n          return toast.error(\n            `Sorry, but there are no pictures with  ${pictureName}`,\n          );\n        }\n\n        setPictures(prevPictures => [...prevPictures, ...pictures]);\n        setReqStatus('resolved');\n\n        page > 1 &&\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n      } catch (error) {\n        setReqStatus('rejected');\n        toast.error('Something went wrong');\n      }\n    }\n\n    getFetchImg();\n  }, [page, pictureName]);\n\n  const handleFormSubmit = pictureName => {\n    resetSearch();\n    setPictureName(pictureName);\n  };\n  const handleSelectedImage = (largeImageUrl, tags) => {\n    setShowModal(!showModal);\n    setSelectedImg(largeImageUrl);\n    setAlt(tags);\n  };\n  const loadMoreBtnClick = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n  const toggleModal = () => {\n    setShowModal(!showModal);\n    setSelectedImg('');\n  };\n  const resetSearch = () => {\n    setPage(1);\n    setPictureName('');\n    setPictures([]);\n    setSelectedImg(null);\n    setReqStatus('idle');\n  };\n\n  const showButton = pictures.length >= 12;\n\n  return (\n    <div>\n      <Toaster />\n      <SearchBar onSearch={handleFormSubmit} />\n      <ImageGallery pictures={pictures} onSelect={handleSelectedImage} />\n      {reqStatus === 'pending' && <Loader />}\n      {showButton && <Button onClick={loadMoreBtnClick} />}\n      {showModal && (\n        <Modal src={selectedImg} tags={alt} onClose={toggleModal} />\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}