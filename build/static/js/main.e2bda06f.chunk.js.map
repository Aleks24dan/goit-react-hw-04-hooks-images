{"version":3,"sources":["components/App/App.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/services/api.js","components/App/App.js","index.js"],"names":["module","exports","SearchBar","onSearch","className","onSubmit","e","preventDefault","target","elements","pictureName","value","toLowerCase","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","onClick","webformatURL","tags","src","alt","ImageGallery","pictures","onSelect","map","picture","id","App","color","height","width","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackDrop","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Component","axios","defaults","baseURL","fetchPics","page","a","get","data","hits","state","selectedImg","reqStatus","showModal","handleFormSubmit","setState","loadMoreBtnClick","prevState","handleSelectedImage","largeImageUrl","toggleModal","prevProps","nextSearch","nextPage","trim","length","toast","error","scrollTo","top","documentElement","scrollHeight","behavior","showButton","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e2bda06f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__grhpS\",\"App-logo\":\"App_App-logo__-ljIu\",\"App-logo-spin\":\"App_App-logo-spin__1xhcn\",\"App-header\":\"App_App-header__1v5Zq\",\"App-link\":\"App_App-link__3wFIg\"};","import PropTypes from 'prop-types';\nconst SearchBar = ({ onSearch}) => {\n  const handleSearch = e => {\n    e.preventDefault();\n    onSearch(e.target.elements.pictureName.value.toLowerCase());\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSearch} >\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          name=\"pictureName\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        \n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n\nSearchBar.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({ image, onClick }) {\n  const { webformatURL, tags } = image;\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        onClick={onClick}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ pictures, onSelect }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {pictures.map((picture, id) => (\n        <ImageGalleryItem\n          key={id}\n          image={picture}\n          onClick={() => onSelect(picture)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      pictures: PropTypes.object,\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onSelect: PropTypes.func.isRequired,\n};\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function App()  {\n\n  return(\n  <div className=\"loaderContainer\">\n  <Loader type=\"Puff\" color=\"#00BFFF\" height={80} width={80} />\n  </div>)\n  }\n","import PropTypes from 'prop-types';\nfunction Button({ onClick }) {\n  return (\n    <div className=\"btnContainer\">\n    <button type=\"button\" onClick={onClick} className=\"Button\">\n      Load more\n      </button>\n      </div>\n  );\n}\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { createPortal } from 'react-dom';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackDrop = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackDrop}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n};\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com';\nconst keyApi = '22597300-51a9bfff07e627635843c3062';\n\nexport const fetchPics = async (pictureName, page) => {\n  const {data} = await axios.get(\n    `/api/?q=${pictureName}&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return data.hits;\n};\n","import { Component } from 'react';\n\nimport toast, { Toaster } from 'react-hot-toast';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport { fetchPics } from '../services/api';\nimport '../image-finder/styles.css';\nimport './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    pictureName: '',\n    pictures: [],\n    selectedImg: null,\n    reqStatus: 'idle',\n    page: 1,\n    showModal: false,\n  };\n\n  \n\n  async componentDidUpdate(prevProps, prevState) {\n    const nextSearch = this.state.pictureName;\n    const nextPage = this.state.page;\n    if (prevState.pictureName !== nextSearch || prevState.page !== nextPage) {\n      try {\n        this.setState({ reqStatus: 'pending' });\n        const pictures = await fetchPics(nextSearch, nextPage);\n         this.setState(prevState => ({\n        pictures: [...prevState.pictures, ...pictures],\n        reqStatus: 'resolved'\n        }))\n        if (nextSearch.trim() === '' || pictures.length === 0) {\n          return toast.error(\n            `Sorry, but there are no pictures with  ${nextSearch}`,\n          );\n        }\n      } catch (error) {\n        this.setState({ reqStatus: 'rejected' });\n        toast.error('Something went wrong');\n      }\n\n      this.state.page > 1 &&\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n    }\n  }\n\n  handleFormSubmit = pictureName => {\n    this.setState({ pictureName });\n  };\n\n  loadMoreBtnClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSelectedImage = largeImageUrl => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      selectedImg: largeImageUrl,\n    }));\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({\n      showModal: !state.showModal,\n       selectedImg: '',\n    }));\n     };\n\n  render() {\n    const { pictures, reqStatus, selectedImg, showModal } = this.state;\n\n    const showButton = pictures.length >= 12;\n\n    return (\n      <div>\n        <Toaster />\n        <SearchBar onSearch={this.handleFormSubmit} />\n        <ImageGallery pictures={pictures} onSelect={this.handleSelectedImage} />\n          {reqStatus === 'pending' && <Loader />}\n        {showButton && <Button onClick={this.loadMoreBtnClick} />}\n        {showModal && (\n          <Modal\n            src={selectedImg.largeImageURL}\n            alt={selectedImg.tags}\n            onClose={this.toggleModal}\n          />\n        )}\n       \n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}